# 业务思考

## 自我介绍

13年研究生毕业后校招进入360, 在游戏平台部门做服务端研发工作，期间技术能力得到快速提升。工作两年后，由于想做一些更有技术挑战的工作，和部门几个同事一起加入了一家做o2o业务的创业公司, 主要负责服务端研发, 在创业公司技术广度得到提升，但感觉技术深度不够，想去大公司中继续沉淀, 所以在18年的时候加入百度, 做智能驾驶中高精地图生产相关业务。在百度工作了2年左右的时间，由于在百度的个人职业发展空间有限，而奇安信有带团队的机会，就来到了奇安信, 到现在共4年半的时间。当前是公司公共技术平台大禹的技术负责人，该平台是公司八大技术平台之一。 目前我直接负责的研发团队大约30人左右，主要由产品经理和服务端工程师组成。在奇安信工作期间共获得两次晋升，工作角色也从技术专家逐渐转换成技术+业务+管理。虽然加入过不同体量的公司, 但每段工作经历都有较好的工作输出与绩效评价，自我感觉是工作的目标感和执行力较强，也能较好的团结同学。做过ToC快速迭代、高并发场景的业务系统，也做过业务复杂的ToB系统, 负责的项目通过了CMMI5软件成熟度认证。 在架构设计、研发管理、项目管理等方面有一定积累

## 三次绩效S的思考

- 第一次: 成功转型为技术+管理
  - 第一次带10人左右的技术团队，团队战斗力提升明显
  - 带领团队成功完成了多个项目的研发任务
  - 培养了两名优秀校招生
- 第二次: 达成平台从0.5到1的目标
  - 中途负责平台技术, 克服多重困难后，成功发布了1.0版本
  - 达成了第一个产线基于平台发布产品的目标
  - 完成了冬奥会网络安全保障任务, 成功验证了平台的能力
- 第三次: 达成平台从1到N的目标
  - 建立了多种内部与外部工作流程, 提升了跨团队协作效率
  - 达成了公司内部大数据分析相关产线接入平台的目标
  - 达成了300个客户项目交付的目标, 平台支撑了数亿产品销售收入

## 系统扩展性故事

大型企业客户

### 业务分析

痛点问题:

- 无法满足不同角色（决策者、管理者、执行者）对网络安全系统的多种要求
- 安全系统的业务流程与企业的管理流程无法很好的融合成本高(用户体系、流程体系等)
- 已经购买了多种安全设备, 但没有被有效整合并形成防御体系
- 网络安全系统无法很好地适配客户现场的IT环境(私有云环境、大数据中台)

> 客户需要的不是一个独立的网络安全系统，而是一个能够在`组织`、`流程`、`安全能力`、`IT架构`多个维度与企业已有系统进行融合的安全系统，并且能够满足不同角色的要求

### 需求分析

- 能够满足不同的视角的安全诉求
- 能够支持灵活多变的流程设置需求, 并与已有的组织与流程体系打通
- 能够处理多源异构的日志、流量与资产数据
- 能够联动各类第三方安全设备
- 能够向上下级系统发送关键的业务数据
- 能够在各类硬件与软件上部署，且能复用企业的基础设施
- 能够按照客户意图，快速完成各类大屏展示的开发工作

### 方案设计

- 不同视角的安全诉求: 拆分成多个子系统(安全运营中心、安全管理中心、安全指挥展示中心、员工安全中心), 从不同视角设计
- 能够和已有组织和流畅打通: 使用可编排的流程引擎Camunda, 低成本接入管理流程
- 多源异构数据接入: 统一数据模型, 插件化适配
- 与第三方安全设备联动: 使用标准OpenC2协议，插件化适配
- 上下级系统数据交换: 建议通用的传输通道, 将数据交换抽象成数据与指令两类, 由业务模块控制传输的内容
- IT架构融合: 架构上分层, 包括运行框架层、大数据平台层、核心应用层、扩展应用层架, 实现底层基础设施可被低成本替换
- 大屏快速开发: 提供低代码与BI工具

### 总结

1. 研究行业政策与企业组织架构, 再进行`业务痛点`与`业务价值`分析
2. 架构上进行`分层`, 不同层之间进行解耦, 使下层可被低成本替换
3. 业务系统进行`分子系统`, 不同子系统按照不同视角与目标进行独立迭代
4. 对集成整合类需求，建立统一的`数据模型`、`业务模型`与`控制协议`
5. 技术上多变的功能使用`插件式框架`与`低代码平台`来实现

## 解决工程质量问题

- 开发阶段
  - 要求技术架构方案进行评审, 同时关注非功能性需求是否满足(稳定新、性能、可用性等)
  - 加强系统可观测性设计（监控、日志、追踪、异常处理等）
  - 明确开发规范与测试标准, 统一技术栈与技术选型
  - 提供开发框架，内置常用开发库与工具, 推广最佳实践
  - 建立统一的开发流水线, 自动化执行`代码扫描`、`单元测试`、`打包`与`部署`等流程
  - 进行测试自动化, 自动化地进行接口与页面测试并输出测试报告
  - 进行稳定性测试, 通过主动注入异常发现系统可用性缺陷
  - 进行全链路性能压测, 发现系统性能瓶颈
  - 监控`代码质量`, `单测覆盖度`,`千行bug率`与`每日自动化测试报告`等数据
- 运行阶段
  - 主动进行系统数据分析及故障复盘，迭代改进系统

## 产品增长

马拉马拉

- 定位: 专业的跑步运动平台
- 功能范围: 赛事报名、跑步记录、线上活动、数字装备、运动社区、商城
- 目标客户: 跑步运动爱好者
- 功能迭代:
  - 基础功能:
    - 系统渠道: 提供h5、小程序、公众号等c端入口, 增加获客渠道
    - 分享功能: 支持app分享跑步数据到朋友圈等社交软件，提升传播率
    - 消息推送: 支持推送赛事活动、运营活动等消息, 提高日活
    - 操作埋点: 在c端加入各种行为埋点, 用于后续行为分析
    - 用户反馈: 在c端提供反馈入口，改进产品体验, 提高留存
    - 功能灰度上线: 支持选择城市，上线灰度功能，例如线上跑活动等
  - 运营功能:
    - 红包优惠券: 多渠道发放运动商城优惠券, 提高订单转化
    - 社区功能: 提供类似keep的用户社区，用户晒图或分享视频，提高日活
    - 个人成长体系: 等级、赛事证书、勋章等, 提高留存
    - 趣味性功能: 数字人，提高日活
  - 数据分析相关:
    - 首页个性化推荐: 千人千面, 根据算法推荐可能感兴趣的赛事与商品, 提高订单转换
    - 数据分析后台: 通过交易、留存与用户行为等数据分析, 指导运营活动决策及app迭代
  - 线上线下结合:
    - 线上马: 不限时间与地点，报名后利用APP上传跑步轨迹，系统审核后可获得马拉松奖牌, 降低参与门槛, 提高日活
    - 跑团: 训练排行榜, 增加趣味性与对抗性, 有利于吸引用户, 提高日活
  
## 创新

防火墙ACL策略分析

- 类型: 技术创新
- 问题描述: 需要对防火墙中下发的各种ACL策略进行分析, 找到重复、覆盖、冲突的策略进行修改, 进而提高防火墙性能
- 解决方法: ACL策略由网络五元组加多个属性字段组成, 将属性值(ip段、端口）等数据转换映射到整数区间， 形成多维空间包围盒，再通过空间索引RTree快速计算
- 收益: 大幅度提升了计算性能，缩短分析时间