# postgres

## PostgreSQL VS MySQL

### 相似点

- 都是关系数据库管理系统。
- 都使用结构化查询语言（SQL）作为读取和编辑数据的接口
- 两者都是开源的，并且具有强大的开发者社区支持
- 两者都内置了数据备份、复制和访问控制功能

### 区别

- ACID 合规性
  - 只有将MySQL与InnoDB 和 NDB 集群存储引擎或软件模块一起使用时，它才符合 ACID 标准
  - PostgreSQL完全兼容
- 并发控制: 多版本并发控制（MVCC）是一项高级数据库功能，可创建记录的重复副本，来安全地并行读取和更新相同的数据。使用 MVCC 时，多个用户可以同时读取和修改相同的数据，而不会影响数据完整性
  - MySQL支持
  - PostgreSQL支持
- 索引
  - MySQL 支持存储分层索引数据的 B 树和 R 树索引
  - PostgreSQL 索引类型包括树、表达式索引、部分索引和哈希索引
- 数据类型
  - MySQL是一个纯粹的关系数据库
  - PostgreSQL 是一个对象关系数据库。这意味着在 PostgreSQL 中，您可以将数据存储为具有属性的对象,支持诸如父-子关系和继承之类的范例。对于数据库开发人员来说，使用 PostgreSQL 更加直观。PostgreSQL 还支持其他数据类型，例如数组和 XML
- 视图 
  - MySQL支持
  - PostgreSQL 提供了高级视图选项。例如可以预先计算一些值（例如给定时段内所有订单的总价值），来创建实体化视图。实体化视图提高了复杂查询的数据库性能
- 存储过程
  - MySQL支持
  - PostgreSQL支持，可以用SQL之外的语言所编写的存储过程
- 触发器
  - MySQL只能为 SQL INSERT、UPDATE 和 DELETE 语句使用 AFTER 和 BEFORE 触发器。这意味着该过程将在用户修改数据之前或之后自动运行。相比之下，PostgreSQL 支持 INSTEAD OF 触发器，因此您可以使用函数运行复杂的 SQL 语句

### 应用范围

- 应用场景
  - PostgreSQL: 更适合具有频繁写入操作和复杂查询的企业级应用程序
  - Mysql: 如果想创建原型，创建用户较少的内部应用程序，或者创建具有更多读取次数和较少数据更新的信息存储引擎，则您可以启动 MySQL项目
- 数据库开发经验
  - MySQL 更适合初学者，其学习曲线更短。从头开始构建新的数据库项目所需的时间更少。将 MySQL 设置为独立产品，或将其与其他 Web 开发技术（如 LAMP 堆栈）捆绑在一起很简单
  - PostgreSQL 对于新手来说可能更具挑战性。它通常需要复杂的基础设置设置和问题排查经验
- 性能要求
  - PostgreSQL适用于应用程序需要频繁更新数据
  - 如果需要频繁读取数据则首选 MySQL
- 写入性能
  - MySQL 使用写锁定来实现真正的并发性。例如，如果一个用户正在编辑表，则另一个用户可能必须等到操作完成后才能更改该表
  - PostgreSQL 内置了多版本并发控制（MVCC）支持，没有读写锁定。这样，如果要进行频繁并发的写入操作，则 PostgreSQL 数据库的表现会更好